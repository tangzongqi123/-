"use strict";(self["webpackChunkvu3_ts_cms"]=self["webpackChunkvu3_ts_cms"]||[]).push([[535],{2577:function(e,t,a){a.d(t,{Z:function(){return P}});var n=a(3396),l=a(7139);const o={class:"page-content"},i=(0,n.Uk)("新建用户"),s={class:"handler-btns"},r=(0,n.Uk)("编辑"),p=(0,n.Uk)("删除");function d(e,t,a,d,u,c){const g=(0,n.up)("el-button"),m=(0,n.up)("Refresh"),w=(0,n.up)("el-icon"),h=(0,n.up)("Edit"),C=(0,n.up)("Delete"),f=(0,n.up)("hy-table");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n.Wm)(f,(0,n.dG)({listData:e.dataList,listCount:e.dataCount},e.contentTableConfig,{page:e.pageInfo,"onUpdate:page":t[0]||(t[0]=t=>e.pageInfo=t)}),(0,n.Nv)({headerHandler:(0,n.w5)((()=>[e.isCreate?((0,n.wg)(),(0,n.j4)(g,{key:0,type:"primary",size:"medium",onClick:e.handleNewClick},{default:(0,n.w5)((()=>[i])),_:1},8,["onClick"])):(0,n.kq)("",!0),(0,n.Wm)(g,null,{default:(0,n.w5)((()=>[(0,n.Wm)(w,null,{default:(0,n.w5)((()=>[(0,n.Wm)(m)])),_:1})])),_:1})])),status:(0,n.w5)((e=>[(0,n.Wm)(g,{plain:"",style:{},type:e.row.enable?"success":"danger"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.row.enable?"启用":"禁用"),1)])),_:2},1032,["type"])])),createAt:(0,n.w5)((t=>[(0,n._)("span",null,(0,l.zw)(e.$filters.formatTime(t.row.createAt)),1)])),updateAt:(0,n.w5)((t=>[(0,n._)("span",null,(0,l.zw)(e.$filters.formatTime(t.row.updateAt)),1)])),handler:(0,n.w5)((t=>[(0,n._)("div",s,[e.isUpdate?((0,n.wg)(),(0,n.j4)(g,{key:0,size:"mini",type:"text",onClick:a=>e.handleEditClick(t.row)},{default:(0,n.w5)((()=>[(0,n.Wm)(w,null,{default:(0,n.w5)((()=>[(0,n.Wm)(h)])),_:1}),r])),_:2},1032,["onClick"])):(0,n.kq)("",!0),e.isDelete?((0,n.wg)(),(0,n.j4)(g,{key:1,size:"mini",type:"text",onClick:a=>e.handleDeleteClick(t.row)},{default:(0,n.w5)((()=>[(0,n.Wm)(w,null,{default:(0,n.w5)((()=>[(0,n.Wm)(C)])),_:1}),p])),_:2},1032,["onClick"])):(0,n.kq)("",!0)])])),_:2},[(0,n.Ko)(e.otherPropSlots,(t=>({name:t.slotName,fn:(0,n.w5)((a=>[t.slotName?(0,n.WI)(e.$slots,t.slotName,{key:0,row:a.row},void 0,!0):(0,n.kq)("",!0)]))})))]),1040,["listData","listCount","page"])])}var u=a(4870),c=a(1411);function g(e,t){const a=(0,c.oR)(),n=a.state.login.permissions,l=`system:${e}:${t}`;return!!n.find((e=>e===l))}const m={class:"hy-table"},w={class:"header"},h={class:"title"},C={class:"handler"},f={key:0,class:"footer"};function k(e,t,a,o,i,s){const r=(0,n.up)("el-table-column"),p=(0,n.up)("el-table"),d=(0,n.up)("el-pagination");return(0,n.wg)(),(0,n.iD)("div",m,[(0,n._)("div",w,[(0,n.WI)(e.$slots,"header",{},(()=>[(0,n._)("div",h,(0,l.zw)(e.title),1),(0,n._)("div",C,[(0,n.WI)(e.$slots,"headerHandler",{},void 0,!0)])]),!0)]),(0,n.Wm)(p,(0,n.dG)({data:e.listData,border:"",style:{width:"100%"},onSelectionChange:e.handleSelectionChange},e.childrenProps),{default:(0,n.w5)((()=>[e.showIndexColumn?((0,n.wg)(),(0,n.j4)(r,{key:0,type:"selection",align:"center",width:"60"})):(0,n.kq)("",!0),e.showIndexColumn?((0,n.wg)(),(0,n.j4)(r,{key:1,type:"index",label:"序号",align:"center",width:"80"})):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.propList,(t=>((0,n.wg)(),(0,n.j4)(r,(0,n.dG)({key:t.prop},t,{align:"center","show-overflow-tooltip":""}),{default:(0,n.w5)((a=>[(0,n.WI)(e.$slots,t.slotName,{row:a.row},(()=>[(0,n.Uk)((0,l.zw)(a.row[t.prop]),1)]),!0)])),_:2},1040)))),128))])),_:3},16,["data","onSelectionChange"]),e.showFooter?((0,n.wg)(),(0,n.iD)("div",f,[(0,n.WI)(e.$slots,"footer",{},(()=>[(0,n.Wm)(d,{"current-page":e.page.currentPage,"page-size":e.page.pageSize,"page-sizes":[10,20,30],small:e.small,disabled:e.disabled,background:e.background,layout:"total, sizes, prev, pager, next, jumper",total:e.listCount,onSizeChange:e.handleSizeChange,onCurrentChange:e.handleCurrentChange},null,8,["current-page","page-size","small","disabled","background","total","onSizeChange","onCurrentChange"])]),!0)])):(0,n.kq)("",!0)])}var y=(0,n.aZ)({props:{title:{type:String,default:""},listData:{type:Array,required:!0},listCount:{type:Number,default:0},propList:{type:Array,required:!0},showIndexColumn:{type:Boolean,default:!1},showSelectColumn:{type:Boolean,default:!1},page:{type:Object,default:()=>({currentPage:0,pageSize:10})},childrenProps:{type:Object,default:()=>({})},showFooter:{type:Boolean,default:!0}},emits:["selectionChange","update:page"],setup(e,{emit:t}){const a=e=>{t("selectionChange",e)},n=a=>{t("update:page",{...e.page,pageSize:a})},l=a=>{t("update:page",{...e.page,currentPage:a})};return{handleSelectionChange:a,handleSizeChange:n,handleCurrentChange:l}}}),b=a(89);const v=(0,b.Z)(y,[["render",k],["__scopeId","data-v-12874ad0"]]);var N=v,W=N,_=(0,n.aZ)({components:{HyTable:W},props:{contentTableConfig:{type:Object,required:!0},pageName:{type:String,required:!0}},emits:["newBtnClick","editBtnClick"],setup(e,{emit:t}){const a=(0,c.oR)(),l=g(e.pageName,"create"),o=g(e.pageName,"update"),i=g(e.pageName,"delete"),s=g(e.pageName,"query"),r=(0,u.iH)({currentPage:1,pageSize:10});(0,n.YP)(r,(()=>p()));const p=(t={})=>{s&&a.dispatch("system/getPageListAction",{pageName:e.pageName,queryInfo:{offset:(r.value.currentPage-1)*r.value.pageSize,size:r.value.pageSize,...t}})};p();const d=(0,n.Fl)((()=>a.getters["system/pageListData"](e.pageName))),m=(0,n.Fl)((()=>a.getters["system/pageListCount"](e.pageName))),w=e.contentTableConfig?.propList.filter((e=>"status"!==e.slotName&&("createAt"!==e.slotName&&("updateAt"!==e.slotName&&"handler"!==e.slotName)))),h=t=>{console.log(t),a.dispatch("system/deletePageDataAction",{pageName:e.pageName,id:t.id})},C=()=>{t("newBtnClick")},f=e=>{t("editBtnClick",e)};return{dataList:d,getPageData:p,dataCount:m,pageInfo:r,otherPropSlots:w,isCreate:l,isUpdate:o,isDelete:i,isQuery:s,handleDeleteClick:h,handleNewClick:C,handleEditClick:f}}});const z=(0,b.Z)(_,[["render",d],["__scopeId","data-v-47eb2a98"]]);var S=z,P=S},2535:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var n=a(3396),l=a(7139);const o={class:"goods"};function i(e,t,a,i,s,r){const p=(0,n.up)("el-image"),d=(0,n.up)("page-content");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n.Wm)(d,{contentTableConfig:e.contentTableConfig,pageName:"goods"},{image:(0,n.w5)((e=>[(0,n.Wm)(p,{style:{width:"60px",height:"60px"},src:e.row.imgUrl,"preview-src-list":[e.row.imgUrl],"preview-teleported":"true"},null,8,["src","preview-src-list"])])),oldPrice:(0,n.w5)((e=>[(0,n.Uk)((0,l.zw)("¥"+e.row.oldPrice),1)])),_:1},8,["contentTableConfig"])])}var s=a(2577);const r={title:"商品列表",propList:[{prop:"name",label:"商品名称",minWidth:"80"},{prop:"oldPrice",label:"原价格",minWidth:"80",slotName:"oldPrice"},{prop:"newPrice",label:"现价格",minWidth:"80"},{prop:"imgUrl",label:"商品图片",minWidth:"100",slotName:"image"},{prop:"status",label:"状态",minWidth:"100",slotName:"status"},{prop:"createAt",label:"创建时间",minWidth:"250",slotName:"createAt"},{prop:"updateAt",label:"更新时间",minWidth:"250",slotName:"updateAt"},{label:"操作",minWidth:"120",slotName:"handler"}],showIndexColumn:!0,showSelectColumn:!0};var p=(0,n.aZ)({name:"goods",components:{PageContent:s.Z},setup(){return{contentTableConfig:r}}}),d=a(89);const u=(0,d.Z)(p,[["render",i]]);var c=u}}]);
//# sourceMappingURL=535.31466bdf.js.map